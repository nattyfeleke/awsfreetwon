import{u as p,r as g,j as e,L as a,l as i,b as u}from"./index-B1MzjYog.js";import{P as n}from"./index-3mxvyIJb.js";import{p as h}from"./index-CSF30VI4.js";import{u as f,L as b,F as y}from"./FetchingError-CKp8a_ep.js";const E=()=>{const{lang:t}=p(),[o,r]=g.useState(1),{isPending:x,error:d,data:l}=f({queryKey:["news",o],queryFn:()=>fetch(`https://ecowas.amanueld.info/api/blogs?page=${o}`).then(s=>s.json())});if(x)return e.jsx("article",{className:"py-20 w-full px-[2%] md:px-[5%] lg:px-[5%] flex justify-center ",children:e.jsxs("section",{className:"w-full ",children:[e.jsx("h4",{className:"text-[#008e53] font-extrabold font-mont text-3xl lg:text-5xl",children:a["LATEST NEWS"][t]??a["LATEST NEWS"].English}),e.jsx("div",{className:"bg-[#008e53] h-[0.4rem] w-28  mt-3"}),e.jsx(b,{}),";"]})});if(d)return e.jsx(y,{error:d.message});const c=l.data.data;return e.jsx("article",{className:"py-20  w-full px-[2%] md:px-[5%] lg:px-[5%] flex justify-center ",children:e.jsxs("section",{className:"w-full max-w-[1800px]",children:[e.jsx("h4",{className:"text-[#008e53] font-extrabold font-mont text-3xl lg:text-5xl",children:a["LATEST NEWS"][t]??a["LATEST NEWS"].English}),e.jsx("div",{className:"bg-[#008e53] h-[0.4rem] w-28  mt-3"}),c.length===0?e.jsx("div",{className:"bg-[#b3b2b2] w-4/5 ml-[10%] py-4 px-4 mt-6 text-center text-lg text- font-medium font-mont",children:e.jsx("p",{children:a["No news found!"][t]??a["No news found!"].English})}):e.jsxs("section",{className:"font-mont grid grid-col-1  md:grid-cols-2 lg:grid-cols-3 justify-center lg:justify-between items-stretch gap-4 lg:gap-8 gap-y-20 mt-10",children:[c.map(s=>e.jsx(m,{newsItem:{id:s.id,title:s.title[i[t]]===""?s.title[i.English]:s.title[i[t]],description:h(s.body[i[t]]===""?s.body[i.English]:s.body[i[t]]),img:s.cover.url}},s.id)),l.data.last_page!==1&&e.jsxs("div",{className:"flex justify-center w-full gap-8 md:col-span-2 lg:col-span-3 ",children:[e.jsx("button",{type:"button",className:o===1?"bg-[#BABABA] text-white font-medium px-6 py-2 font-mont text-sm rounded-md hover:opacity-70":"bg-[#008e53] text-white font-medium px-6 py-2 font-mont text-sm rounded-md hover:opacity-70",onClick:()=>r(o-1),disabled:o===1,children:"Previous"}),e.jsx("button",{type:"button",className:l.data.next_page_url?"bg-[#008e53] text-white font-medium px-6 py-2 font-mont text-sm rounded-md hover:opacity-70":"bg-[#BABABA] text-white font-medium px-6 py-2 font-mont text-sm rounded-md hover:opacity-70",onClick:()=>r(o+1),disabled:!l.data.next_page_url,children:"Next"})]})]})]})})},m=({newsItem:t})=>{const o=u();return console.log(t),e.jsxs("section",{className:" border-[#008e53]  about_card max-w-[550px] overflow-hidden mb-4",children:[e.jsx("div",{className:"w-full h-[25vh] overflow-hidden ",style:{backgroundImage:`url(${t.img})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsxs("div",{className:"px-5 py-2 font-mont",children:[e.jsx("h6",{className:"h-14 md:h-16 opacity-80 text-xl lg:text-2xl font-extrabold text-[#008e53] mb-3 line-clamp-2",children:t.title}),e.jsx("p",{className:"h-[10.5rem] text-base  text-[#616161] line-clamp-6",children:t.description}),e.jsx("button",{type:"button",className:"mt-8 mb-4 border-b-4 border-[#008e53] text-[#008e53] font-semibold pr-3 lg:pr-6  pl-1 text-lg font-mont  hover:opacity-70",onClick:()=>{window.scrollTo(0,0),o("/news/"+t.id)},children:"Read More"})]})]})};m.propTypes={newsItem:n.shape({id:n.string.isRequired,title:n.string.isRequired,description:n.string.isRequired,img:n.string.isRequired}).isRequired};export{E as N,m as a};
