import{u as b,r as i,j as s,L as d,a as E,l as a}from"./index-B1MzjYog.js";import{p as N}from"./index-CSF30VI4.js";import{u as T,L as X,F as R}from"./FetchingError-CKp8a_ep.js";import{P as f}from"./index-3mxvyIJb.js";import{a as k}from"./NewsContent-CVLAqPeg.js";const q=c=>new Date(c).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}),D=({galleries:c})=>{const{lang:n}=b(),e=i.useRef(null),[u,l]=i.useState(!1),[o,r]=i.useState(0),[h,x]=i.useState(0),g=t=>{e.current&&(l(!0),r(t.pageX- -e.current.offsetLeft),x(e.current.scrollLeft))},p=()=>{l(!1)},w=()=>{l(!1)},y=t=>{if(!u||!e.current)return;t.preventDefault();const m=(t.pageX-e.current.offsetLeft-o)*1;e.current.scrollLeft=h-m},j=t=>{!e.current||!t.touches[0]||(l(!0),r(t.touches[0].pageX- -e.current.offsetLeft),x(e.current.scrollLeft))},L=()=>{l(!1)},M=t=>{if(!u||!e.current||!t.touches[0])return;t.preventDefault();const m=(t.touches[0].pageX-e.current.offsetLeft-o)*1;e.current.scrollLeft=h-m};return s.jsxs("article",{className:"mt-12 font-mont overflow-hidden",children:[s.jsx("h6",{className:" text-[#008e53] font-extrabold font-mont text-2xl lg:text-4xl",children:d.Gallery[n]??d.Gallery.English}),s.jsx("section",{className:"scroll-tab-container flex flex-row gap-3 md:gap-6 w-full py-3 lg:py-6 ",ref:e,onMouseDown:g,onMouseLeave:p,onMouseUp:w,onMouseMove:y,onTouchStart:j,onTouchEnd:L,onTouchMove:M,children:c.map(t=>s.jsx("img",{src:t.url,alt:"",loading:"lazy",className:"w-[10rem] h-[12rem]  md:w-[16rem] md:h-[23rem] "},t.uuid))})]})};D.propTypes={galleries:f.arrayOf(f.shape({uuid:f.string.isRequired,url:f.string.isRequired})).isRequired};const P="/assets/news-BwvvWAPA.webp",S=({documents:c})=>{const{lang:n}=b(),e=i.useRef(null),[u,l]=i.useState(!1),[o,r]=i.useState(0),[h,x]=i.useState(0),g=t=>{e.current&&(l(!0),r(t.pageX- -e.current.offsetLeft),x(e.current.scrollLeft))},p=()=>{l(!1)},w=()=>{l(!1)},y=t=>{if(!u||!e.current)return;t.preventDefault();const m=(t.pageX-e.current.offsetLeft-o)*1;e.current.scrollLeft=h-m},j=t=>{!e.current||!t.touches[0]||(l(!0),r(t.touches[0].pageX- -e.current.offsetLeft),x(e.current.scrollLeft))},L=()=>{l(!1)},M=t=>{if(!u||!e.current||!t.touches[0])return;t.preventDefault();const m=(t.touches[0].pageX-e.current.offsetLeft-o)*1;e.current.scrollLeft=h-m};return s.jsxs("article",{className:"mt-6 font-mont overflow-hidden",children:[s.jsx("h6",{className:" text-[#008e53] font-extrabold font-mont text-2xl lg:text-4xl",children:d["Article Documents"][n]??d["Article Documents"].English}),s.jsx("section",{className:"scroll-tab-container flex flex-row gap-3 md:gap-6 w-full py-3 lg:py-6 ",ref:e,onMouseDown:g,onMouseLeave:p,onMouseUp:w,onMouseMove:y,onTouchStart:j,onTouchEnd:L,onTouchMove:M,children:c.map(t=>s.jsx("button",{type:"button",onClick:()=>{window.open(t.url,"_blank")},className:"hover:opacity-60",children:s.jsx("img",{src:P,alt:"",loading:"lazy",className:"w-[10rem] h-[12rem]  md:w-[16rem] md:h-[23rem]"})},t.uuid))})]})};S.propTypes={documents:f.arrayOf(f.shape({uuid:f.string.isRequired,url:f.string.isRequired})).isRequired};const F=()=>{const{id:c}=E(),{lang:n}=b(),{isPending:e,error:u,data:l}=T({queryKey:["news"+c],queryFn:()=>fetch("https://ecowas.amanueld.info/api/blog-detail/"+c).then(r=>r.json())});if(e)return s.jsx("article",{className:"min-h-[50vh] pt-20 pb-6 w-full  flex  justify-center items-center",children:s.jsxs("section",{className:"   ",children:[s.jsx(X,{}),";"]})});if(u)return s.jsx(R,{error:u.message});const o=l.data;return console.log(o),s.jsx("article",{className:"py-8 px-[2%] md:px-[4%] flex justify-center items-center",children:s.jsxs("section",{className:"w-full max-w-[1800px] font-mont",children:[s.jsx("h4",{className:"text-[#008e53] font-extrabold font-mont text-3xl lg:text-5xl",children:o.title[a[n]]===""?o.title[a.English]:o.title[a[n]]}),s.jsxs("p",{className:"mt-4 text-[#777777] font-semibold text-lg",children:[d["Created at"][n]??d["Created at"].English," : ",q(o.published_at)]}),s.jsx("div",{className:"w-full h-[35vh] lg:h-[33vh] mt-6",style:{backgroundImage:`url(${o.cover.url})`,backgroundSize:"cover",backgroundPosition:"center"}}),s.jsx("p",{className:"mt-6 text-[#777777] text-lg blog",children:N(o.body[a[n]]===""?o.body[a.English]:o.body[a[n]])}),o.galleries&&o.galleries.length>0&&s.jsx(D,{galleries:o.galleries}),o.documents&&o.documents.length>0&&s.jsx(S,{documents:o.documents}),o.related&&o.related.length>0&&s.jsxs("article",{className:"mt-8",children:[s.jsx("h6",{className:" text-[#008e53] font-extrabold font-mont text-2xl lg:text-4xl",children:d["More News"][n]??d["More News"].English}),s.jsx("section",{className:"font-mont grid grid-col-1  md:grid-cols-2 lg:grid-cols-3 justify-center lg:justify-between items-stretch gap-4 lg:gap-8 gap-y-20 mt-10",children:o.related.slice(0,4).map(r=>s.jsx(k,{newsItem:{id:r.id,title:r.title[a[n]]===""?r.title[a.English]:r.title[a[n]],description:N(r.body[a[n]]===""?r.body[a.English]:r.body[a[n]]),img:r.cover.url}},r.id))})]})]})})};export{F as default};
